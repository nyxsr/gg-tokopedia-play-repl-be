# GG3.0 Tokopedia Play Clone
[![GitHub stars](https://img.shields.io/github/stars/nyxsr/gg-tokopedia-play-repl)](https://github.com/nyxsr/gg-tokopedia-play-repl/stargazers)



## Documentation ðŸ“–
* [About](#what-is-this--)
* [Installation](#how-to-use--)
* [Database Structure](#database-structure-)
* [API Structure](#api-structure-)

## What is this ? ðŸ‘‹


This is a Backend for Tokopedia Play Replication and it's made with many tools, like :
* [ExpressJS](https://expressjs.com/)
* [Mongoose](https://mongoosejs.com/) (For MongoDB Connectors)
* [JWT](https://github.com/auth0/node-jsonwebtoken)
* and many more...

## How to Use ? ðŸ¤”
To preview this website locally :
1. Install [NodeJS](https://nodejs.org/) and [MongoDB](https://mongodb.com/)
2. Clone this repository first
```
$ git clone https://github.com/expressjs/expressjs.com.git
```
3. Install the depedency for install the node_modules
```
$ npm install
```
4. Lastly, you need to run the server and **make sure** you are **connected to the internet**
```
$ npm run dev
```
5. You can access the server now with terminal using _curl_, [Postman](https://postman.com), [Insomnia](https://insomnia.rest), etc

Congratulations! ðŸŽ‰ðŸŽ‰ðŸŽ‰

## Database Structure ðŸ¦´

This project using [MongoDB](https://mongodb.com) as a Database so in other words , we use NoSQL and the structure gonna be collections and documents.


### Users Collection

| Field Name  | Type | Description |
| ------------- |:-------------:|:-------------:|
|_id | ObjectID | Unique identifier for Users |
| name      | String     | This is for naming the User|
| username      | String     | an Unique naming for granting the access to the website/server|
| password      | String     | a secret key for accessing the website/server |
|createdAt| Date | Automatically generated by mongo for tracking the creation timestamp of a document. |
|updatedAt| Date | Automatically generated by mongo for tracking the update timestamp of a document.|

### Guest Collection

| Field Name  | Type | Description |
| ------------- |:-------------:|:-------------:|
|_id | ObjectID | Unique identifier for Guest |
| username      | String     | This is for naming the guest|
|createdAt| Date | Automatically generated by mongo for tracking the creation timestamp of a document. |
|updatedAt| Date | Automatically generated by mongo for tracking the update timestamp of a document.|

### Products Collection

| Field Name  | Type | Description |
| ------------- |:-------------:|:-------------:|
|_id | ObjectID | Unique identifier for Products |
| title      | String     | This is for naming the Product|
| url      | String     | an URL for the Product Link|
| price      | Number     | Indicators for how much the price |
| createdBy      | ObjectID     | Reference to the user who create this |
|createdAt| Date | Automatically generated by mongo for tracking the creation timestamp of a document. |
|updatedAt| Date | Automatically generated by mongo for tracking the update timestamp of a document.|

### Videos Collection

| Field Name  | Type | Description |
| ------------- |:-------------:|:-------------:|
|_id | ObjectID | Unique identifier for Videos |
| title      | String     | This is for naming the Video|
| urlThumbnail      | String     | an URL for the Video's Thumbnail Link|
| creator      | ObjectID     | Reference to the user who create this |
|createdAt| Date | Automatically generated by mongo for tracking the creation timestamp of a document. |
|updatedAt| Date | Automatically generated by mongo for tracking the update timestamp of a document.|

### Comments Collection

| Field Name  | Type | Description |
| ------------- |:-------------:|:-------------:|
|_id | ObjectID | Unique identifier for Comments |
| username      | String     | This is for naming who commenting |
| comment      | String     | Value of what users commenting |
|createdAt| Date | Automatically generated by mongo for tracking the creation timestamp of a document. |
|updatedAt| Date | Automatically generated by mongo for tracking the update timestamp of a document.|

## API Structure ðŸ§ 

### Base URL 
```
http://localhost:3000/api/
```
### Endpoints

**Description**: Endpoints for do authorization and granting access to the website/server.

### 1. Auth

| Endpoint                     | Method | Description                            | Request Body                     | Response Body                         |
|------------------------------|--------|----------------------------------------|----------------------------------|---------------------------------------|
| `/auth/login`                     | POST    | Grant access to the website/server.                         | username and password                                | Array of user objects.                |



### 2. Users

**Description**: Endpoints for managing users.

| Endpoint                     | Method | Description                            | Request Body                     | Response Body                         |
|------------------------------|--------|----------------------------------------|----------------------------------|---------------------------------------|
| `/users`                     | GET    | Get all users.                         | -                                | Array of user objects.                |
| `/users/:id`                 | GET    | Get a specific user by ID.             | -                                | User object.                          |
| `/users`                     | POST   | Create a new user.                     | User object with name, username and password . | User object with ID.                  |
| `/users/:id`                 | PUT    | Update an existing user.               | User object with updated fields. | User object with updated fields.       |
| `/users/:id`                 | DELETE | Delete a user.| - | - |

### 3. Guest

**Description**: Endpoints for managing users.

| Endpoint                     | Method | Description                            | Request Body                     | Response Body                         |
|------------------------------|--------|----------------------------------------|----------------------------------|---------------------------------------|
| `/users`                     | GET    | Get all users.                         | -                                | Array of user objects.                |
| `/users/:id`                 | GET    | Get a specific user by ID.             | -                                | User object.                          |
| `/users`                     | POST   | Create a new user.                     | User object with name, username and password . | User object with ID.                  |
| `/users/:id`                 | PUT    | Update an existing user.               | User object with updated fields. | User object with updated fields.       |
| `/users/:id`                 | DELETE | Delete a user.| - | - |

### 4. Products

**Description**: Endpoints for managing products.

| Endpoint                     | Method | Description                            | Request Body                     | Response Body                         |
|------------------------------|--------|----------------------------------------|----------------------------------|---------------------------------------|
| `/products`                     | GET    | Get all products.                         | -                                | Array of product objects.                |
| `/products/:id`                 | GET    | Get a specific product by ID.             | -                                | User object.                          |
| `/products`                     | POST   | Create a new product.                     | Product object with title, url, price and ID of the product creator. | Product object with ID.                  |
| `/products/:id`                 | PUT    | Update an existing product.               | Product object with updated fields. | Product object with updated fields.       |
| `/products/:id`                 | DELETE | Delete a product.| - | - |

### 5. Videos

**Description**: Endpoints for managing videos.

| Endpoint                     | Method | Description                            | Request Body                     | Response Body                         |
|------------------------------|--------|----------------------------------------|----------------------------------|---------------------------------------|
| `/videos`                     | GET    | Get all videos.                         | -                                | Array of video objects.                |
| `/videos/:id`                 | GET    | Get a specific video by ID.             | -                                | Video object.                          |
| `/videos`                     | POST   | Create a new video.                     | Product object with title, urlThumbnail,and ID of the video creator. | Video object with ID.                  |
| `/videos/:id`                 | PUT    | Update an existing video.               | Video object with updated fields. | Video object with updated fields.       |
| `/videos/:id`                 | DELETE | Delete a video.| - | - |

### 6. Comments

**Description**: Endpoints for managing comments.

| Endpoint                     | Method | Description                            | Request Body                     | Response Body                         |
|------------------------------|--------|----------------------------------------|----------------------------------|---------------------------------------|
| `/comments`                     | GET    | Get all comments.                         | -                                | Array of comment objects.                |
| `/comments/:id`                 | GET    | Get a specific comment by ID.             | -                                | Comment object.                          |
| `/comments`                     | POST   | Create a new comment.                     | Product object with title, urlThumbnail,and ID of the comment creator. | Comment object with ID.                  |
| `/comments/:id`                 | PUT    | Update an existing comment.               | Comment object with updated fields. | Comment object with updated fields.       |
| `/comments/:id`                 | DELETE | Delete a comment.| - | - |

### Sample Endpoint Usage

### 1. Login
**Endpoint** : `/auth/login`

**Method** : `POST`

**Description** : Granting access to the website/server

**Example Request**:

```sql
POST /auth/login/
```

**Example Request Body**:

```json
{
    "username":"your_username",
    "password":"your_password"
}
```

**Example Response**:

```json
{
    "meta": {
        "code": 200,
        "message": "Berhasil Login!"
    },
    "data": {
        "user": {
            "_id": "64be8a55f27b4c39ebf48c36",
            "name": "Sahrul Ramdan",
            "username": "nyxsr",
            "password": <hashed_password>,
            "createdAt": "2023-07-24T14:27:33.585Z",
            "updatedAt": "2023-07-24T14:27:33.585Z",
            "__v": 0
        },
        "token": <your_secret_token>
    }
}
```
### 2. Create a User
**Endpoint** : `/users/`

**Method** : `POST`

**Description** : Create an user for accessing the website/server

**Example Request**:

```sql
POST /
```

**Example Request Body**:

```json
{
    "name":"John Doe",
    "username":"johndoe",
    "password":"astrongpassword"
}
```

**Example Response**:

```json
{
    "meta": {
        "code": 201,
        "message": "Data berhasil dibuat"
    },
    "data": {
        "name": "John Doe",
        "username": "johndoe",
        "password": <hashed_password>,
        "_id": "64c09448f801823ab691e2cb",
        "createdAt": "2023-07-26T03:34:32.235Z",
        "updatedAt": "2023-07-26T03:34:32.235Z",
        "__v": 0
    }
}
```

### 3. Get all users
**Endpoint** : `/users/`

**Method** : `GET`

**Description** : Create an user for accessing the website/server

**Example Request**:

```sql
GET /
Authorization : Bearer <your_secret_token>
```

**Example Response**:

```json
{
    "meta": {
        "code": 200,
        "message": "Data User ditemukan"
    },
    "data": [
        {
            "_id": "64c09448f801823ab691e2cb",
            "name": "John Doe",
            "username": "johndoe",
            "password": "<hashed_password>",
            "createdAt": "2023-07-24T14:27:33.585Z",
            "updatedAt": "2023-07-24T14:27:33.585Z",
            "__v": 0
        },
    ]
}
```

### 3. Get all products
**Endpoint** : `/products/`

**Method** : `GET`

**Description** : Get all products

**Example Request**:

```sql
GET /
Authorization : Bearer <your_secret_token>
```

**Example Response**:

```json
{
    "meta": {
        "code": 200,
        "message": "Data Product ditemukan"
    },
    "data": [
        {
            "_id": "64c09c98aeb5edf0218e499f",
            "title": "USAMS U71 Kabel Data Fast Charging All in one 100W PD/QC/AFC/FCP 1.2M",
            "url": "https://www.tokopedia.com/usamsidofficial/usams-u71-kabel-data-fast-charging-all-in-one-100w-pd-qc-afc-fcp-1-2m?src=topads&source=homepage.top_carousel.0.38456",
            "price": 150000,
            "createdBy": "64be8a55f27b4c39ebf48c36",
            "createdAt": "2023-07-26T04:10:00.323Z",
            "updatedAt": "2023-07-26T04:10:39.169Z",
            "__v": 0
        }
    ]
}
```

### 4. Get all videos
**Endpoint** : `/videos/`

**Method** : `GET`

**Description** : Get all videos

**Example Request**:

```sql
GET /
Authorization : Bearer <your_secret_token>
```

**Example Response**:

```json
{
    "meta": {
        "code": 200,
        "message": "Data Video ditemukan"
    },
    "data": [
        {
            "_id": "64c09dccc7895aeb25870a60",
            "title": "QTAR QTIR!! Bakso ini dipercaya disukai Oppenheimer semasa hidupnya",
            "urlThumbnail": "https://awsimages.detik.net.id/community/media/visual/2022/03/12/bakso-nuklir-di-jombang_169.jpeg?w=620",
            "creator": "64be8a55f27b4c39ebf48c36",
            "createdAt": "2023-07-26T04:15:08.041Z",
            "updatedAt": "2023-07-26T04:15:53.656Z",
            "__v": 0
        }
    ]
}
```

### 5. Get all comments
**Endpoint** : `/comments/`

**Method** : `GET`

**Description** : Get all comments

**Example Request**:

```sql
GET /
Authorization : Bearer <your_secret_token>
```

**Example Response**:

```json
{
    "meta": {
        "code": 200,
        "message": "Data Comment ditemukan"
    },
    "data": [
        {
            "_id": "64c09e915a67d4dd2ff1dfd5",
            "username": "nyxsr",
            "comment": "Mamah aku takut!",
            "createdAt": "2023-07-26T04:18:25.161Z",
            "updatedAt": "2023-07-26T04:18:46.655Z",
            "__v": 0
        }
    ]
}
```

## Creator

Sahrul Ramdan a.k.a [@nyxsr](https://github.com/nyxsr)

